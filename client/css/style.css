:root{
  --bg:#0f1724;
  --card:#0b1320;
  --accent:#00d4ff;
  --accent-2:#7cf59b;
  --muted:#9aa7b2;
  --glass: rgba(255,255,255,0.03);
  --glass-2: rgba(255,255,255,0.02);
  --radius:14px;
  --glass-border: rgba(255,255,255,0.04);
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,#071021 0%, #071a2b 100%);color:#e6f2f8}
.site-header{
  display:flex;align-items:center;justify-content:space-between;padding:18px 28px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));-webkit-backdrop-filter: blur(6px);backdrop-filter: blur(6px);
  border-bottom:1px solid rgba(255,255,255,0.02);
}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:46px;height:46px}
.brand h1{font-size:20px;margin:0}
.tagline{font-size:12px;color:var(--muted);margin:0}

.container{display:grid;grid-template-columns:repeat(2,1fr);gap:18px;padding:24px;max-width:1200px;margin:20px auto}
.panel{background:linear-gradient(180deg,var(--glass),var(--glass-2));border-radius:var(--radius);padding:18px;border:1px solid var(--glass-border);box-shadow: 0 6px 18px rgba(0,0,0,0.45)}
.map{height:400px;border-radius:10px;background:linear-gradient(180deg,#07233a,#052033);position:relative;overflow:hidden;min-height:400px}
.map:not(.has-google-maps):not(.has-map){display:grid;grid-template-columns:repeat(2,1fr);gap:12px;padding:12px}
.map.has-google-maps,.map.has-map{padding:0}
.map.has-google-maps .area,.map.has-map .area{display:none}
.map.has-map .leaflet-container{height:100%;width:100%;border-radius:10px}
.area{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:10px;display:flex;flex-direction:column;gap:6px;align-items:flex-start;justify-content:center;transition:transform .25s ease, box-shadow .25s ease}
.area:hover{transform:translateY(-6px);box-shadow:0 10px 24px rgba(2,6,23,0.6)}
.area .name{font-weight:600}
.area .cong{font-size:12px;color:var(--muted)}

/* congestion bar */
.bar{width:100%;height:10px;background:rgba(255,255,255,0.03);border-radius:8px;overflow:hidden;margin-top:6px}
.fill{height:100%;background:linear-gradient(90deg,var(--accent-2),var(--accent));border-radius:8px;transition:width 0.7s cubic-bezier(.2,.9,.2,1)}

.routes-list{display:flex;flex-direction:column;gap:10px}
.route-item{background:#041223;padding:12px;border-radius:10px;display:flex;justify-content:space-between;align-items:center;border:1px solid rgba(255,255,255,0.02);transition:transform .2s ease}
.route-item:hover{transform:translateX(6px)}
.controls{display:flex;gap:8px;margin-top:12px}
.controls input{padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
.btn{padding:10px 14px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--accent),#00a6ff);color:#012;cursor:pointer;font-weight:600;transition:transform .18s ease, box-shadow .18s ease}
.btn:hover{transform:translateY(-4px);box-shadow:0 8px 22px rgba(0,212,255,0.12)}
.btn.accent{background:linear-gradient(90deg,#ff9f43,#ff6b6b);color:#111}
.transit-list{display:flex;flex-direction:column;gap:8px}
.transit-item{display:flex;justify-content:space-between;padding:8px;background:#061226;border-radius:8px}
.stat-row{display:flex;gap:12px;margin-top:10px}
.stat{flex:1;background:linear-gradient(180deg,#06202b,#041226);padding:12px;border-radius:8px;text-align:center}
.muted{color:var(--muted);font-size:13px}

/* footer */
.site-footer{margin:20px auto;text-align:center;color:var(--muted);font-size:13px}

/* slide-in animation */
.slide-in{opacity:1;transform:none;transition:all .7s cubic-bezier(.2,.9,.2,1)}
.js .slide-in{opacity:0;transform:translateY(20px)}
.js .slide-in.visible{opacity:1;transform:none}

/* fancy zip effect for header */
.brand h1{display:inline-block;position:relative;overflow:hidden}
.brand h1::after{content:"";position:absolute;left:-100%;top:0;height:100%;width:100%;background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0));transform:skewX(-20deg);animation:zip 1.6s linear 0.4s both}
@keyframes zip{to{left:200%}}

/* Loading and error states */
.loading-state{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  padding:40px 20px;
  gap:12px
}
.spinner{
  width:32px;
  height:32px;
  border:3px solid rgba(255,255,255,0.1);
  border-top-color:var(--accent);
  border-radius:50%;
  animation:spin 0.8s linear infinite
}
@keyframes spin{
  to{transform:rotate(360deg)}
}
.error-state{
  padding:20px;
  text-align:center;
  color:#ff6b6b
}
.route-item.selected{
  background:linear-gradient(180deg, rgba(0,212,255,0.1), rgba(0,212,255,0.05));
  border-color:var(--accent)
}
.route-steps{
  padding-top:8px;
  border-top:1px solid rgba(255,255,255,0.05);
  margin-top:8px
}
.route-steps div{
  margin:4px 0;
  padding-left:8px
}
.btn:disabled{
  opacity:0.6;
  cursor:not-allowed;
  transform:none
}
.btn.small{
  padding:6px 12px;
  font-size:13px
}
.controls input:focus{
  outline:2px solid var(--accent);
  outline-offset:2px
}

/* Modal styles */
.modal{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.6);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:1000;
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px)
}
.modal-content{
  background:linear-gradient(180deg,var(--card),#05141b);
  border-radius:var(--radius);
  padding:32px;
  border:1px solid var(--glass-border);
  max-width:420px;
  width:90%;
  position:relative;
  box-shadow:0 12px 40px rgba(0,0,0,0.8)
}
.modal-close{
  position:absolute;
  top:12px;
  right:12px;
  background:none;
  border:none;
  color:var(--muted);
  font-size:28px;
  cursor:pointer;
  padding:0;
  width:32px;
  height:32px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:6px;
  transition:background 0.2s ease
}
.modal-close:hover{
  background:rgba(255,255,255,0.05)
}

/* Auth UI */
.auth-tabs{
  display:flex;
  gap:12px;
  margin-bottom:20px;
  border-bottom:1px solid rgba(255,255,255,0.05)
}
.auth-tab{
  padding:12px 16px;
  border:none;
  background:none;
  color:var(--muted);
  cursor:pointer;
  font-weight:600;
  border-bottom:3px solid transparent;
  transition:color 0.2s ease
}
.auth-tab.active{
  color:var(--accent);
  border-bottom-color:var(--accent)
}
.auth-form{
  display:none;
  flex-direction:column;
  gap:12px
}
.auth-form.active{
  display:flex
}
.auth-form input{
  padding:12px;
  border-radius:8px;
  border:1px solid rgba(255,255,255,0.05);
  background:rgba(255,255,255,0.02);
  color:inherit;
  font-size:14px
}
.auth-form input:focus{
  outline:none;
  background:rgba(255,255,255,0.04);
  border-color:var(--accent)
}
.auth-form .btn{
  width:100%;
  margin-top:8px
}
.error-message{
  color:#ff6b6b;
  font-size:13px;
  padding:8px;
  background:rgba(255,107,107,0.1);
  border-radius:6px;
  margin-top:8px
}

/* Saved routes list */
.saved-routes-list{
  display:flex;
  flex-direction:column;
  gap:12px;
  max-height:400px;
  overflow-y:auto
}
.saved-route-item{
  background:rgba(255,255,255,0.02);
  padding:12px;
  border-radius:8px;
  border:1px solid rgba(255,255,255,0.05);
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px
}
.saved-route-info{
  flex:1
}
.saved-route-info h4{
  margin:0 0 4px 0;
  font-size:14px
}
.saved-route-info p{
  margin:0;
  font-size:12px;
  color:var(--muted)
}
.saved-route-actions{
  display:flex;
  gap:6px
}
.saved-route-actions .btn{
  padding:6px 10px;
  font-size:12px
}

.nav-actions{
  display:flex;
  gap:8px;
  align-items:center
}

/* small responsive */
@media (max-width:900px){
  .container{grid-template-columns:1fr; padding:12px}
  .map{height:220px}
  .modal-content{
    max-width:90%;
    padding:24px
  }
  .nav-actions{
    flex-wrap:wrap
  }
}

